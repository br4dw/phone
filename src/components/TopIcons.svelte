<script>
    import { onMount } from 'svelte';
    import moment from 'moment';
	let wifi = true;

    onMount(() => {
		document.querySelector('.time').textContent = generateTime();
		setInterval(() => {
			document.querySelector('.time').textContent = generateTime();
		}, 1000);
	})

    function generateTime() {
		return moment(new Date()).format('hh:mm');
	}

	function toggleWifi() {
		return wifi = !wifi;
	}

</script>

<style>
    .top-icons {
		display: flex;
		gap: .5em;
		align-items: baseline;
		color: white;
		padding: .75em;
		border-radius: calc(var(--border-radius) - .5rem) calc(var(--border-radius) - .5rem) 0 0;
	}

	.top-icons button {
		background: none;
		border: none;
		color: inherit;
		padding: 0;
		height: 1em;
		width: 1em;
		font-size: calc((var(--phone-width) / 30) + .5em);
		fill: white;
	}
	.time-container {
		display: flex;
		align-items: center;
		gap: .25rem;
		flex-grow: 1;
	}
	.time {
		font-size: calc((var(--phone-width) / 30) + .5em);
	}
</style>

<div class="top-icons">
    <div class="time-container noselect">
        <div class="time"></div>
    </div>
	<button class="signal">
		<svg xmlns="http://www.w3.org/2000/svg" height="1em" width="1em">
			<path d="M15.438 16.625Q14.854 16.625 14.448 16.219Q14.042 15.812 14.042 15.229V4.625Q14.042 4.042 14.458 3.625Q14.875 3.208 15.458 3.208Q16.042 3.208 16.448 3.625Q16.854 4.042 16.854 4.625V15.229Q16.854 15.812 16.448 16.219Q16.042 16.625 15.438 16.625ZM5.375 16.625Q5.083 16.625 4.833 16.51Q4.583 16.396 4.396 16.208Q4.208 16.021 4.094 15.771Q3.979 15.521 3.979 15.229V12.958Q3.979 12.375 4.385 11.958Q4.792 11.542 5.396 11.542Q5.979 11.542 6.385 11.958Q6.792 12.375 6.792 12.958V15.229Q6.792 15.521 6.677 15.771Q6.562 16.021 6.375 16.208Q6.188 16.396 5.938 16.51Q5.688 16.625 5.375 16.625ZM10.417 16.625Q9.833 16.625 9.417 16.219Q9 15.812 9 15.229V8.792Q9 8.208 9.417 7.792Q9.833 7.375 10.417 7.375Q11 7.375 11.417 7.792Q11.833 8.208 11.833 8.792V15.229Q11.833 15.812 11.417 16.219Q11 16.625 10.417 16.625Z"/>
		</svg>
	</button>
    <button class="wifi" on:click={toggleWifi}>
		{#if wifi}
			<svg xmlns="http://www.w3.org/2000/svg" height="1em" width="1em">
				<path d="M4.646 12.062Q4.25 11.667 4.271 11.125Q4.292 10.583 4.708 10.292Q5.833 9.5 7.167 9.042Q8.5 8.583 10 8.583Q11.5 8.583 12.833 9.042Q14.167 9.5 15.292 10.292Q15.708 10.583 15.74 11.115Q15.771 11.646 15.354 12.062Q15 12.417 14.448 12.448Q13.896 12.479 13.417 12.167Q12.688 11.688 11.823 11.448Q10.958 11.208 10 11.208Q9.042 11.208 8.177 11.448Q7.312 11.688 6.583 12.167Q6.104 12.479 5.552 12.448Q5 12.417 4.646 12.062ZM0.917 8.375Q0.542 8 0.542 7.458Q0.542 6.917 0.938 6.583Q2.771 5.042 5.073 4.188Q7.375 3.333 10 3.333Q12.625 3.333 14.927 4.188Q17.229 5.042 19.062 6.583Q19.458 6.917 19.469 7.448Q19.479 7.979 19.083 8.375Q18.729 8.729 18.177 8.76Q17.625 8.792 17.208 8.438Q15.729 7.25 13.906 6.604Q12.083 5.958 10 5.958Q7.917 5.958 6.094 6.604Q4.271 7.25 2.792 8.438Q2.375 8.792 1.823 8.76Q1.271 8.729 0.917 8.375ZM10 17.5Q9.104 17.5 8.49 16.885Q7.875 16.271 7.875 15.375Q7.875 14.479 8.49 13.865Q9.104 13.25 10 13.25Q10.896 13.25 11.51 13.865Q12.125 14.479 12.125 15.375Q12.125 16.271 11.51 16.885Q10.896 17.5 10 17.5Z"/>
			</svg>
		{:else}
			<svg xmlns="http://www.w3.org/2000/svg" height="1em" width="1em">
				<path d="M10 17.5Q9.104 17.5 8.49 16.885Q7.875 16.271 7.875 15.375Q7.875 14.479 8.49 13.865Q9.104 13.25 10 13.25Q10.896 13.25 11.51 13.865Q12.125 14.479 12.125 15.375Q12.125 16.271 11.51 16.885Q10.896 17.5 10 17.5ZM17.208 8.438Q15.729 7.25 13.906 6.604Q12.083 5.958 10 5.958Q9.708 5.958 9.24 5.979Q8.771 6 8.521 6.042L6.292 3.812Q7.021 3.583 8.031 3.458Q9.042 3.333 10 3.333Q12.625 3.333 14.927 4.188Q17.229 5.042 19.062 6.583Q19.458 6.917 19.469 7.448Q19.479 7.979 19.083 8.375Q18.729 8.729 18.177 8.76Q17.625 8.792 17.208 8.438ZM14.833 12.375Q14.542 12.062 14.281 11.802Q14.021 11.542 13.688 11.208L11.125 8.646Q12.104 8.771 13.208 9.167Q14.312 9.562 15.292 10.292Q15.708 10.604 15.74 11.125Q15.771 11.646 15.354 12.062Q15.25 12.167 15.104 12.25Q14.958 12.333 14.833 12.375ZM15.771 18.208 8.854 11.312Q8.208 11.417 7.646 11.635Q7.083 11.854 6.583 12.167Q6.104 12.479 5.552 12.448Q5 12.417 4.625 12.042Q4.229 11.646 4.26 11.125Q4.292 10.604 4.708 10.292Q5.188 9.938 5.677 9.667Q6.167 9.396 6.708 9.188L4.729 7.208Q4.229 7.458 3.74 7.771Q3.25 8.083 2.812 8.438Q2.375 8.792 1.833 8.771Q1.292 8.75 0.917 8.375Q0.521 7.979 0.531 7.448Q0.542 6.917 0.958 6.583Q1.396 6.208 1.865 5.875Q2.333 5.542 2.812 5.271L1.708 4.167Q1.458 3.917 1.458 3.563Q1.458 3.208 1.729 2.938Q1.979 2.688 2.333 2.688Q2.688 2.688 2.958 2.938L17 17Q17.25 17.25 17.25 17.604Q17.25 17.958 17 18.208Q16.729 18.479 16.375 18.479Q16.021 18.479 15.771 18.208Z"/>
			</svg>
		{/if}
    </button>
    <button class="battery">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
            <path d="M352 320H96V192H352V320zM0 176C0 131.8 35.82 96 80 96H464C508.2 96 544 131.8 544 176V192C561.7 192 576 206.3 576 224V288C576 305.7 561.7 320 544 320V336C544 380.2 508.2 416 464 416H80C35.82 416 0 380.2 0 336V176zM80 160C71.16 160 64 167.2 64 176V336C64 344.8 71.16 352 80 352H464C472.8 352 480 344.8 480 336V176C480 167.2 472.8 160 464 160H80z"/>
        </svg>
    </button>
</div>